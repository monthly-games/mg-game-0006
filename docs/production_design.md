# Hero Auto Battle Arena - 프로덕션 디자인 문서

> game_id: game_0006
> repo: mg-game-0006
> title_kr: 히어로 오토 배틀 아레나
> title_en: Hero Auto Battle Arena
> genre_tags: autobattler, deckbuilding, pvp
> doc_type: production_design
> source_of_truth: docs/design/gdd_game_0006.json
> last_updated: 2025-12-19

---

## 1. 재미 요소 (Fun Factors)

### 1.1 핵심 재미 (Core Fun)
| 요소 | 설명 | 강도 |
|------|------|------|
| **덱 빌딩** | 최적의 히어로 조합을 구성하는 전략 | ★★★★★ |
| **경쟁** | 다른 플레이어와의 PvP 대전 | ★★★★★ |
| **수집** | 다양한 히어로 수집과 강화 | ★★★★☆ |
| **자동 전투** | 전략이 실현되는 자동 전투 관전 | ★★★☆☆ |

### 1.2 만족감 요소 (Satisfaction)
- **승리**: PvP 승리 시 트로피 획득
- **콤보 발동**: 히어로 시너지 효과 발동
- **레어 획득**: 고급 히어로 카드 획득
- **랭크업**: 아레나 등급 상승

### 1.3 도전 요소 (Challenge)
```
도전 구조:
├── 상성 시스템 (속성 가위바위보)
├── 배치 전략 (포지션별 효과)
├── 메타 변화 (시즌별 밸런스 패치)
├── 리그 시스템 (브론즈→다이아몬드)
└── 토너먼트 (주간/시즌)
```

### 1.4 사회적 요소 (Social)
- **실시간 PvP**: 비동기 또는 실시간 대전
- **길드 대전**: 길드 vs 길드
- **리더보드**: 글로벌/지역/친구 랭킹
- **관전**: 상위 랭커 경기 관전

---

## 2. 게임 루프 (Game Loop)

### 2.1 코어 루프 (2~5분)
```
┌─────────────────────────────────────────────────┐
│                    코어 루프                      │
├─────────────────────────────────────────────────┤
│  [상대 확인] → [덱 편성] → [전투 시작]            │
│       ↑                            ↓             │
│       └──── [결과 확인] ← [자동 전투] ←┘         │
└─────────────────────────────────────────────────┘
```

**단계별 상세:**
1. **상대 확인** (5초): 상대 덱 구성 미리보기
2. **덱 편성** (30~60초): 카운터 픽, 배치 결정
3. **전투 시작** (1초): 전투 개시
4. **자동 전투** (60~120초): AI 기반 전투 진행
5. **결과 확인** (5초): 승패, 트로피 변동

### 2.2 세션 루프 (5~10분)
```
[접속] → [일일 보상] → [퀘스트 확인] → [PvP 매칭] → [전투]
                                           ↓
                              [카드 강화] → [덱 조정]
```

**세션 구성:**
- 일일 보상/퀘스트: 30초
- PvP 3~5판: 6~10분
- 카드 관리: 2~3분

### 2.3 메타 루프 (장기)
```
┌──────────────────────────────────────────────────────┐
│                     메타 진행                         │
├──────────────────────────────────────────────────────┤
│  [PvP 승리] → [트로피 획득] → [랭크 상승]             │
│         ↓                              ↓             │
│  [시즌 보상]                     [더 강한 상대]       │
│         ↓                              ↓             │
│  [카드 강화] ←──────────────────────────┘            │
└──────────────────────────────────────────────────────┘
```

### 2.4 플로우 다이어그램
```
[앱 시작]
    ↓
[메인 화면] ─────→ [상점]
    │              [덱 편성]
    │              [카드 관리]
    │              [길드]
    ↓
[아레나] → [매칭] → [전투 준비]
                        ↓
                   [자동 전투]
                        ↓
                   [결과 화면]
```

---

## 3. BM 모델 (Business Model)

### 3.1 수익화 전략
| 채널 | 비중 | 설명 |
|------|------|------|
| **카드 팩** | 40% | 가챠 시스템 (확률 공개) |
| **배틀 패스** | 25% | 시즌 보상 트랙 |
| **편의 기능** | 15% | 에너지 충전, 빠른 매칭 |
| **리워드 광고** | 15% | 무료 팩, 보상 2배 |
| **코스메틱** | 5% | 아레나 스킨, 이펙트 |

### 3.2 과금 포인트
```
비과금 유저 경험:
├── PvP 완전 참여 가능
├── 일일 무료 팩 지급
├── 시즌 무료 트랙 보상
└── 시간 투자로 경쟁력 확보

과금 유저 혜택:
├── 프리미엄 카드 팩 ($0.99~$49.99)
├── 배틀 패스 ($9.99/시즌)
├── 에메랄드 패키지 ($0.99~$99.99)
├── 스타터 팩 ($4.99) - SSR 확정
└── 시즌 팩 ($19.99) - 한정 히어로
```

### 3.3 가격 정책
| 상품 | 가격 | 가치 |
|------|------|------|
| 일반 팩 (3장) | $0.99 | R 이상 확정 |
| 고급 팩 (10장) | $4.99 | SR 1장 확정 |
| 프리미엄 팩 (10장) | $9.99 | SSR 1장 확정 |
| 배틀 패스 | $9.99/시즌 | 프리미엄 트랙 해금 |
| 에메랄드 (소) | $4.99 | 500 에메랄드 |
| 에메랄드 (대) | $49.99 | 6000 에메랄드 (+20%) |

### 3.4 리텐션 메커니즘
- **일일 보상**: 로그인 무료 팩
- **일일 퀘스트**: PvP 3판, 승리 1회 등
- **시즌 시스템**: 60일 시즌, 랭크 리셋
- **배틀 패스**: 일일 미션으로 진행
- **이벤트**: 한정 히어로, 특별 아레나

---

## 4. 레벨 디자인 (Level Design)

### 4.1 난이도 곡선
```
상대 강도
  ▲
  │                         다이아몬드 ─
  │                    플래티넘 ─╯
  │               골드 ─╯
  │          실버 ─╯
  │     브론즈 ─╯
  └──────────────────────────────────────→ 트로피
    0   500  1000 1500 2000 2500
```

**매칭 공식:**
```
매칭_범위 = 현재_트로피 ± 100
대기_시간_증가에_따라 = ± 50씩 확장
```

### 4.2 콘텐츠 진행
| 리그 | 트로피 | 보상/해금 |
|------|--------|----------|
| 브론즈 | 0~499 | 기본 팩, 튜토리얼 |
| 실버 | 500~999 | 실버 팩, 길드 해금 |
| 골드 | 1000~1499 | 골드 팩, 토너먼트 해금 |
| 플래티넘 | 1500~1999 | 플래티넘 팩, 관전 해금 |
| 다이아몬드 | 2000~2499 | 다이아 팩, 전용 스킨 |
| 챔피언 | 2500+ | 챔피언 전용 보상 |

### 4.3 밸런싱 공식
```dart
// 덱 파워 계산
int calculateDeckPower(List<Hero> deck) {
  int totalPower = deck.map((h) =>
    h.attack + h.defense + h.hp / 10 + h.skill.power
  ).sum.toInt();
  int synergyBonus = calculateSynergyBonus(deck);
  return totalPower + synergyBonus;
}

// 시너지 보너스
int calculateSynergyBonus(List<Hero> deck) {
  // 같은 속성 3개: +10%
  // 같은 속성 5개: +25%
  // 특수 조합: +15%
  ...
}

// 매칭 점수
int matchmakingScore(Player player) {
  return player.trophies * 0.7 + player.deckPower * 0.3;
}
```

### 4.4 보상 체계
| 보상 유형 | 획득 조건 | 수량 |
|-----------|----------|------|
| 승리 트로피 | PvP 승리 | +20~30 |
| 패배 트로피 | PvP 패배 | -10~20 |
| 승리 골드 | PvP 승리 | 50~200 |
| 시즌 보상 | 시즌 종료 | 리그별 팩/골드 |
| 일일 팩 | 로그인 | 무료 팩 1개 |

---

## 5. UI/UX 설계

### 5.1 정보 계층
```
레벨 1 (항상 표시):
├── 현재 트로피/리그
├── 골드/에메랄드
├── 에너지
└── 알림 배지

레벨 2 (상호작용 시):
├── 히어로 상세 정보
├── 덱 편성 화면
├── 상대 덱 미리보기
└── 전투 진행 상황

레벨 3 (팝업):
├── 팩 오픈 연출
├── 랭크업 연출
├── 매칭 대기
└── 결과 화면
```

### 5.2 네비게이션 흐름
```
[메인 화면]
    ├── [아레나] → [매칭] → [전투] → [결과]
    ├── [덱] → [덱 목록] → [편성]
    ├── [카드] → [보유 카드] → [강화]
    ├── [상점] → [팩/에메랄드/특별 상품]
    ├── [길드] → [길드 활동]
    └── [설정] → [옵션]
```

### 5.3 피드백 시스템
| 이벤트 | 시각 | 청각 | 촉각 |
|--------|------|------|------|
| 스킬 발동 | 스킬 이펙트 | 스킬음 | 진동 (중) |
| 크리티컬 | 화면 강조 | 타격음 강조 | 진동 (강) |
| 승리 | 승리 연출 | 승리 BGM | 진동 (중) |
| SSR 획득 | 황금 연출 | 특별 팡파레 | 진동 (강) |
| 랭크업 | 랭크 배너 | 랭크업 음악 | 진동 (강) |

### 5.4 접근성
- **자동 전투**: 기본적으로 자동 진행
- **배속 기능**: 1x, 2x, 3x 전투 속도
- **스킵 기능**: 결과만 보기
- **색맹 모드**: 속성 아이콘 패턴 추가
- **알림 설정**: 에너지 충전/대전 알림

---

## 6. 프로덕션 체크리스트

### 핵심 기능
- [x] 자동 전투 시스템 (100ms 틱 기반, AI 타겟팅)
- [x] 히어로 수집/강화 (상점 구매, 장비 시스템)
- [x] 덱 빌딩 시스템 (벤치, 그리드 배치)
- [ ] PvP 매칭 (현재 Wave 기반 PvE)
- [x] 시너지 시스템 (Warrior/Archer/Mage 시너지)

### 콘텐츠
- [x] 13 히어로 (6개 클래스)
- [x] 4 속성 (Fire, Water, Earth, Wind)
- [x] 3 시너지 조합 (Warrior, Archer, Mage)
- [ ] 6 리그 티어
- [ ] 튜토리얼

### 메타 시스템
- [ ] 시즌 시스템
- [ ] 배틀 패스
- [ ] 길드 시스템
- [ ] 토너먼트
- [ ] 리더보드

### 수익화
- [x] 상점 시스템 (골드로 히어로 구매)
- [ ] 광고 SDK
- [ ] IAP 상품
- [ ] 배틀 패스 UI

### QA/최적화
- [ ] PvP 밸런싱
- [ ] 매칭 알고리즘
- [ ] 네트워크 최적화
- [ ] 크래시 리포팅

### 출시 준비
- [ ] 스토어 에셋
- [ ] 앱 설명
- [ ] 법적 문서
- [ ] 소프트 런칭

---

## 7. KPI 목표

| 지표 | 목표 | 측정 방법 |
|------|------|----------|
| D1 리텐션 | 40% | Firebase Analytics |
| D7 리텐션 | 18% | Firebase Analytics |
| D30 리텐션 | 7% | Firebase Analytics |
| 세션 길이 | 8분 | 평균 세션 시간 |
| 일일 세션 | 4회 | DAU / 세션 수 |
| 일일 PvP 횟수 | 5회 | 평균 대전 횟수 |
| ARPU | $0.25~0.40 | 총 매출 / DAU |
| 광고 시청률 | 40~50% | 광고 노출 / DAU |
| 결제 전환율 | 5~8% | 결제 유저 / DAU |

---

*마지막 업데이트: 2025-12-19*
